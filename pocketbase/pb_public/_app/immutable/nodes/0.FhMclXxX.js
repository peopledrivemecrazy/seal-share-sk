import{d as j,e as ue,c as Q,a as b,t as S}from"../chunks/BFXbanDE.js";import{o as fe,q as D,v as R,w as he,y as H,Y as ge,a5 as ye,a4 as ve,B as _e,C as be,V as Se,p as I,f as w,a as L,t as Y,s as J,aL as v,aM as we,m as _,d as pe,aN as ke,g as Me,aO as Ce}from"../chunks/BbX6vshq.js";import{h as G}from"../chunks/DObEHuUC.js";import{s as Te}from"../chunks/DB5UbcDt.js";import{g as W,w as f,d as X}from"../chunks/DXardCeZ.js";import"../chunks/Cgy7pJK3.js";import{i as N}from"../chunks/3N-8IBh7.js";import{i as K}from"../chunks/C3JVPyaj.js";import{p as u,c as Ee,s as P}from"../chunks/mBxzIlHy.js";import{o as Ie}from"../chunks/B5qAb_Q1.js";import{s as Z}from"../chunks/B-eyZhdV.js";function Le(n,e,o,t,i){var l=n,a="",s;fe(()=>{if(a===(a=e()??"")){D&&R();return}s!==void 0&&(Se(s),s=void 0),a!==""&&(s=he(()=>{if(D){H.data;for(var r=R(),c=r;r!==null&&(r.nodeType!==8||r.data!=="");)c=r,r=ge(r);if(r===null)throw ye(),ve;j(H,c),l=_e(r);return}var m=a+"",d=ue(m);j(be(d),d.lastChild),l.before(d)}))})}const Ne=async()=>({}),Ke=!0,Ve=!1,ct=Object.freeze(Object.defineProperty({__proto__:null,load:Ne,prerender:Ke,ssr:Ve},Symbol.toStringTag,{value:"Module"}));let U,B;function x(n){if(typeof document>"u")return;clearTimeout(U),clearTimeout(B);const e=document.createElement("style"),o=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(o);const t=()=>document.head.appendChild(e),i=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),n(),window.getComputedStyle(e).opacity,i();return}if(typeof window.requestAnimationFrame<"u"){t(),n(),window.requestAnimationFrame(i);return}t(),U=window.setTimeout(()=>{n(),B=window.setTimeout(i,120)},120)}function F(n){return n.filter(e=>e.length>0)}const $={getItem:n=>null,setItem:(n,e)=>{}},y=typeof document<"u",Ae=["dark","light","system"],M=f("mode-watcher-mode"),C=f("mode-watcher-theme"),ee=ze(),T=De(),te=f(void 0),ne=je(),V=f(!0),oe=f([]),re=f([]),qe=Re(),Oe=He();function ze(){const n="system",e=y?localStorage:$,o=e.getItem(i());let t=E(o)?o:n;function i(){return W(M)}const{subscribe:l,set:a}=f(t,()=>{if(!y)return;const r=c=>{if(c.key!==i())return;const m=c.newValue;E(m)?a(t=m):a(t=n)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function s(r){a(t=r),e.setItem(i(),t)}return{subscribe:l,set:s}}function je(){const n=y?localStorage:$,e=n.getItem(t());let o=e??"";function t(){return W(C)}const{subscribe:i,set:l}=f(o,()=>{if(!y)return;const s=r=>{if(r.key!==t())return;const c=r.newValue;l(c===null?o="":o=c)};return addEventListener("storage",s),()=>removeEventListener("storage",s)});function a(s){l(o=s),n.setItem(t(),o)}return{subscribe:i,set:a}}function De(){let e=!0;const{subscribe:o,set:t}=f(void 0,()=>{if(!y)return;const a=r=>{e&&t(r.matches?"light":"dark")},s=window.matchMedia("(prefers-color-scheme: light)");return s.addEventListener("change",a),()=>s.removeEventListener("change",a)});function i(){if(!y)return;const a=window.matchMedia("(prefers-color-scheme: light)");t(a.matches?"light":"dark")}function l(a){e=a}return{subscribe:o,query:i,tracking:l}}function Re(){const{subscribe:n}=X([ee,T,te,V,oe,re],([e,o,t,i,l,a])=>{if(!y)return;const s=e==="system"?o:e,r=F(l),c=F(a);function m(){const d=document.documentElement,h=document.querySelector('meta[name="theme-color"]');s==="light"?(r.length&&d.classList.remove(...r),c.length&&d.classList.add(...c),d.style.colorScheme="light",h&&t&&h.setAttribute("content",t.light)):(c.length&&d.classList.remove(...c),r.length&&d.classList.add(...r),d.style.colorScheme="dark",h&&t&&h.setAttribute("content",t.dark))}return i?x(m):m(),s});return{subscribe:n}}function He(){const{subscribe:n}=X([ne,V],([e,o])=>{if(!y)return;function t(){document.documentElement.setAttribute("data-theme",e)}return o?x(t):t(),e});return{subscribe:n}}function E(n){return typeof n!="string"?!1:Ae.includes(n)}function Pe(n){ee.set(n)}function Ue(n){ne.set(n)}function Be({defaultMode:n="system",themeColors:e,darkClassNames:o=["dark"],lightClassNames:t=[],defaultTheme:i="",modeStorageKey:l="mode-watcher-mode",themeStorageKey:a="mode-watcher-theme"}){const s=document.documentElement,r=localStorage.getItem(l)||n,c=localStorage.getItem(a)||i,m=r==="light"||r==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(m?(o.length&&s.classList.remove(...o),t.length&&s.classList.add(...t)):(t.length&&s.classList.remove(...t),o.length&&s.classList.add(...o)),s.style.colorScheme=m?"light":"dark",e){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",r==="light"?e.light:e.dark)}c&&(s.setAttribute("data-theme",c),localStorage.setItem(a,c)),localStorage.setItem(l,r)}var Fe=S('<meta name="theme-color">');function Qe(n,e){I(e,!1);let o=u(e,"themeColors",24,()=>{});K();var t=Q(),i=w(t);{var l=a=>{var s=Fe();Y(()=>Z(s,"content",o().dark)),b(a,s)};N(i,a=>{o()&&a(l)})}b(n,t),L()}var Ye=S('<meta name="theme-color">'),Je=S("<!> <!>",1);function Ge(n,e){I(e,!1);let o=u(e,"trueNonce",8,""),t=u(e,"initConfig",8),i=u(e,"themeColors",24,()=>{});K(),G(l=>{var a=Je(),s=w(a);{var r=m=>{var d=Ye();Y(()=>Z(d,"content",i().dark)),b(m,d)};N(s,m=>{i()&&m(r)})}var c=J(s,2);Le(c,()=>`<script${o()?` nonce=${o()}`:""}>(`+Be.toString()+")("+JSON.stringify(t())+");<\/script>"),b(l,a)}),L()}function We(n,e){I(e,!1);const[o,t]=Ee(),i=()=>P(M,"$modeStorageKeyStore",o),l=()=>P(C,"$themeStorageKeyStore",o),a=ke();let s=u(e,"track",8,!0),r=u(e,"defaultMode",8,"system"),c=u(e,"themeColors",24,()=>{}),m=u(e,"disableTransitions",8,!0),d=u(e,"darkClassNames",24,()=>["dark"]),h=u(e,"lightClassNames",24,()=>[]),A=u(e,"defaultTheme",8,""),q=u(e,"nonce",8,""),p=u(e,"themeStorageKey",8,"mode-watcher-theme"),k=u(e,"modeStorageKey",8,"mode-watcher-mode"),ae=u(e,"disableHeadScriptInjection",8,!1);Ie(()=>{const g=qe.subscribe(()=>{}),de=Oe.subscribe(()=>{});T.tracking(s()),T.query();const z=localStorage.getItem(i());Pe(E(z)?z:r());const me=localStorage.getItem(l());return Ue(me||A()),()=>{g(),de()}});const se={defaultMode:r(),themeColors:c(),darkClassNames:d(),lightClassNames:h(),defaultTheme:A(),modeStorageKey:k(),themeStorageKey:p()};v(()=>_(m()),()=>{V.set(m())}),v(()=>_(c()),()=>{te.set(c())}),v(()=>_(d()),()=>{oe.set(d())}),v(()=>_(h()),()=>{re.set(h())}),v(()=>_(k()),()=>{M.set(k())}),v(()=>_(p()),()=>{C.set(p())}),v(()=>_(q()),()=>{pe(a,typeof window>"u"?q():"")}),we(),K();var O=Q(),ie=w(O);{var ce=g=>{Qe(g,{get themeColors(){return c()}})},le=g=>{Ge(g,{get trueNonce(){return Me(a)},initConfig:se,get themeColors(){return c()}})};N(ie,g=>{ae()?g(ce):g(le,!1)})}b(n,O),L(),t()}var Xe=S("<!> <!>",1);function lt(n,e){var o=Xe();G(l=>{Ce.title="Sealshare"});var t=w(o);We(t,{});var i=J(t,2);Te(i,()=>e.children),b(n,o)}export{lt as component,ct as universal};
